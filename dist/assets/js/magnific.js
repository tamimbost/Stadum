!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}((function(e){function t(){}function n(e,t){d.ev.on(P+e+_,t)}function o(t,n,o,i){var r=document.createElement("div");return r.className="mfp-"+t,o&&(r.innerHTML=o),i?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r}function i(e,t){d.ev.triggerHandler(P+e,t),d.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),d.st.callbacks[e])&&d.st.callbacks[e].apply(d,Array.isArray(t)?t:[t])}function r(t){return t===g&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=e(d.st.closeMarkup.replace("%title%",d.st.tClose)),g=t),d.currTemplate.closeBtn}function a(){e.magnificPopup.instance||((d=new t).init(),e.magnificPopup.instance=d)}function s(){y&&(v.after(y.addClass(h)).detach(),y=null)}function l(){w&&e(document.body).removeClass(w)}function c(){l(),d.req&&d.req.abort()}var d,p,u,f,m,g,h,v,y,w,C,b="Close",x="BeforeClose",I="MarkupParse",T="Open",k="Change",P="mfp",_="."+P,S="mfp-ready",E="mfp-removing",z="mfp-prevent-close",O=!!window.jQuery,M=e(window),B=(e.magnificPopup={instance:null,proto:t.prototype={constructor:t,init:function(){var t=navigator.appVersion;d.isLowIE=d.isIE8=document.all&&!document.addEventListener,d.isAndroid=/android/gi.test(t),d.isIOS=/iphone|ipad|ipod/gi.test(t),d.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),u=e(document),d.popupsCache={}},open:function(t){if(!1===t.isObj){d.items=t.items.toArray(),d.index=0;for(var a,s=t.items,l=0;l<s.length;l++)if((a=(a=s[l]).parsed?a.el[0]:a)===t.el[0]){d.index=l;break}}else d.items=Array.isArray(t.items)?t.items:[t.items],d.index=t.index||0;if(!d.isOpen){d.types=[],m="",t.mainEl&&t.mainEl.length?d.ev=t.mainEl.eq(0):d.ev=u,t.key?(d.popupsCache[t.key]||(d.popupsCache[t.key]={}),d.currTemplate=d.popupsCache[t.key]):d.currTemplate={},d.st=e.extend(!0,{},e.magnificPopup.defaults,t),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=o("bg").on("click"+_,(function(){d.close()})),d.wrap=o("wrap").attr("tabindex",-1).on("click"+_,(function(e){d._checkIfClose(e.target)&&d.close()})),d.container=o("container",d.wrap)),d.contentContainer=o("content"),d.st.preloader&&(d.preloader=o("preloader",d.container,d.st.tLoading));var c=e.magnificPopup.modules;for(l=0;l<c.length;l++){var p=(p=c[l]).charAt(0).toUpperCase()+p.slice(1);d["init"+p].call(d)}i("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(n(I,(function(e,t,n,o){n.close_replaceWith=r(o.type)})),m+=" mfp-close-btn-in"):d.wrap.append(r())),d.st.alignTop&&(m+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:M.scrollTop(),position:"absolute"}),!1!==d.st.fixedBgPos&&("auto"!==d.st.fixedBgPos||d.fixedContentPos)||d.bgOverlay.css({height:u.height(),position:"absolute"}),d.st.enableEscapeKey&&u.on("keyup"+_,(function(e){27===e.keyCode&&d.close()})),M.on("resize"+_,(function(){d.updateSize()})),d.st.closeOnContentClick||(m+=" mfp-auto-cursor"),m&&d.wrap.addClass(m);var f=d.wH=M.height(),g={},h=(d.fixedContentPos&&d._hasScrollBar(f)&&(h=d._getScrollbarSize())&&(g.marginRight=h),d.fixedContentPos&&(d.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden"),d.st.mainClass);return d.isIE7&&(h+=" mfp-ie7"),h&&d._addClassToMFP(h),d.updateItemHTML(),i("BuildControls"),e("html").css(g),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||e(document.body)),d._lastFocusedEl=document.activeElement,setTimeout((function(){d.content?(d._addClassToMFP(S),d._setFocus()):d.bgOverlay.addClass(S),u.on("focusin"+_,d._onFocusIn)}),16),d.isOpen=!0,d.updateSize(f),i(T),t}d.updateItemHTML()},close:function(){d.isOpen&&(i(x),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(E),setTimeout((function(){d._close()}),d.st.removalDelay)):d._close())},_close:function(){i(b);var t=E+" "+S+" ";d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(t+=d.st.mainClass+" "),d._removeClassFromMFP(t),d.fixedContentPos&&(t={marginRight:""},d.isIE7?e("body, html").css("overflow",""):t.overflow="",e("html").css(t)),u.off("keyup.mfp focusin"+_),d.ev.off(_),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d.st.autoFocusLast&&d._lastFocusedEl&&e(d._lastFocusedEl).trigger("focus"),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,i("AfterClose")},updateSize:function(e){var t;d.isIOS?(t=document.documentElement.clientWidth/window.innerWidth,t=window.innerHeight*t,d.wrap.css("height",t),d.wH=t):d.wH=e||M.height(),d.fixedContentPos||d.wrap.css("height",d.wH),i("Resize")},updateItemHTML:function(){var t=d.items[d.index],n=(d.contentContainer.detach(),d.content&&d.content.detach(),(t=t.parsed?t:d.parseEl(d.index)).type),o=(i("BeforeChange",[d.currItem?d.currItem.type:"",n]),d.currItem=t,d.currTemplate[n]||(i("FirstMarkupParse",o=!!d.st[n]&&d.st[n].markup),d.currTemplate[n]=!o||e(o)),f&&f!==t.type&&d.container.removeClass("mfp-"+f+"-holder"),d["get"+n.charAt(0).toUpperCase()+n.slice(1)](t,d.currTemplate[n]));d.appendContent(o,n),t.preloaded=!0,i(k,t),f=t.type,d.container.prepend(d.contentContainer),i("AfterChange")},appendContent:function(e,t){(d.content=e)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[t]?d.content.find(".mfp-close").length||d.content.append(r()):d.content=e:d.content="",i("BeforeAppend"),d.container.addClass("mfp-"+t+"-holder"),d.contentContainer.append(d.content)},parseEl:function(t){var n,o=d.items[t];if((o=o.tagName?{el:e(o)}:(n=o.type,{data:o,src:o.src})).el){for(var r=d.types,a=0;a<r.length;a++)if(o.el.hasClass("mfp-"+r[a])){n=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||d.st.type||"inline",o.index=t,o.parsed=!0,d.items[t]=o,i("ElementParse",o),d.items[t]},addGroup:function(e,t){function n(n){n.mfpEl=this,d._openClick(n,e,t)}var o="click.magnificPopup";(t=t||{}).mainEl=e,t.items?(t.isObj=!0,e.off(o).on(o,n)):(t.isObj=!1,t.delegate?e.off(o).on(o,t.delegate,n):(t.items=e).off(o).on(o,n))},_openClick:function(t,n,o){var i=(void 0!==o.midClick?o:e.magnificPopup.defaults).midClick;if(i||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){if(i=(void 0!==o.disableOn?o:e.magnificPopup.defaults).disableOn)if("function"==typeof i){if(!i.call(d))return!0}else if(M.width()<i)return!0;t.type&&(t.preventDefault(),d.isOpen)&&t.stopPropagation(),o.el=e(t.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),d.open(o)}},updateStatus:function(e,t){var n;d.preloader&&(p!==e&&d.container.removeClass("mfp-s-"+p),i("UpdateStatus",n={status:e,text:t=t||"loading"!==e?t:d.st.tLoading}),e=n.status,t=n.text,d.st.allowHTMLInStatusIndicator?d.preloader.html(t):d.preloader.text(t),d.preloader.find("a").on("click",(function(e){e.stopImmediatePropagation()})),d.container.addClass("mfp-s-"+e),p=e)},_checkIfClose:function(t){if(!e(t).closest("."+z).length){var n=d.st.closeOnContentClick,o=d.st.closeOnBgClick;if(n&&o)return!0;if(!d.content||e(t).closest(".mfp-close").length||d.preloader&&t===d.preloader[0])return!0;if(t===d.content[0]||e.contains(d.content[0],t)){if(n)return!0}else if(o&&e.contains(document,t))return!0;return!1}},_addClassToMFP:function(e){d.bgOverlay.addClass(e),d.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),d.wrap.removeClass(e)},_hasScrollBar:function(e){return(d.isIE7?u.height():document.body.scrollHeight)>(e||M.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).trigger("focus")},_onFocusIn:function(t){if(t.target!==d.wrap[0]&&!e.contains(d.wrap[0],t.target))return d._setFocus(),!1},_parseMarkup:function(t,n,o){var r;o.data&&(n=e.extend(o.data,n)),i(I,[t,n,o]),e.each(n,(function(n,o){if(void 0===o||!1===o)return!0;var i,a;1<(r=n.split("_")).length?0<(i=t.find(_+"-"+r[0])).length&&("replaceWith"===(a=r[1])?i[0]!==o[0]&&i.replaceWith(o):"img"===a?i.is("img")?i.attr("src",o):i.replaceWith(e("<img>").attr("src",o).attr("class",i.attr("class"))):i.attr(r[1],o)):d.st.allowHTMLInTemplate?t.find(_+"-"+n).html(o):t.find(_+"-"+n).text(o)}))},_getScrollbarSize:function(){var e;return void 0===d.scrollbarSize&&((e=document.createElement("div")).style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),d.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),d.scrollbarSize}},modules:[],open:function(t,n){return a(),(t=t?e.extend(!0,{},t):{}).isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0,allowHTMLInStatusIndicator:!1,allowHTMLInTemplate:!1}},e.fn.magnificPopup=function(t){a();var n,o,i,r=e(this);return"string"==typeof t?"open"===t?(n=O?r.data("magnificPopup"):r[0].magnificPopup,o=parseInt(arguments[1],10)||0,i=n.items?n.items[o]:(i=r,(i=n.delegate?i.find(n.delegate):i).eq(o)),d._openClick({mfpEl:i},r,n)):d.isOpen&&d[t].apply(d,Array.prototype.slice.call(arguments,1)):(t=e.extend(!0,{},t),O?r.data("magnificPopup",t):r[0].magnificPopup=t,d.addGroup(r,t)),r},"inline"),L=(e.magnificPopup.registerModule(B,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(B),n(b+"."+B,(function(){s()}))},getInline:function(t,n){var i,r,a;return s(),t.src?(i=d.st.inline,(r=e(t.src)).length?((a=r[0].parentNode)&&a.tagName&&(v||(h=i.hiddenClass,v=o(h),h="mfp-"+h),y=r.after(v).detach().removeClass(h)),d.updateStatus("ready")):(d.updateStatus("error",i.tNotFound),r=e("<div>")),t.inlineElement=r):(d.updateStatus("ready"),d._parseMarkup(n,{},t),n)}}}),"ajax");function H(e){var t;d.currTemplate[N]&&(t=d.currTemplate[N].find("iframe")).length&&(e||(t[0].src="//about:blank"),d.isIE8)&&t.css("display",e?"block":"none")}function A(e){var t=d.items.length;return t-1<e?e-t:e<0?t+e:e}function F(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)}e.magnificPopup.registerModule(L,{options:{settings:null,cursor:"mfp-ajax-cur",tError:"The content could not be loaded."},proto:{initAjax:function(){d.types.push(L),w=d.st.ajax.cursor,n(b+"."+L,c),n("BeforeChange."+L,c)},getAjax:function(t){w&&e(document.body).addClass(w),d.updateStatus("loading");var n=e.extend({url:t.src,success:function(n,o,r){i("ParseAjax",n={data:n,xhr:r}),d.appendContent(e(n.data),L),t.finished=!0,l(),d._setFocus(),setTimeout((function(){d.wrap.addClass(S)}),16),d.updateStatus("ready"),i("AjaxContentAdded")},error:function(){l(),t.finished=t.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",t.src))}},d.st.ajax.settings);return d.req=e.ajax(n),""}}}),e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:"The image could not be loaded."},proto:{initImage:function(){var t=d.st.image,o=".image";d.types.push("image"),n(T+o,(function(){"image"===d.currItem.type&&t.cursor&&e(document.body).addClass(t.cursor)})),n(b+o,(function(){t.cursor&&e(document.body).removeClass(t.cursor),M.off("resize"+_)})),n("Resize"+o,d.resizeImage),d.isLowIE&&n("AfterChange",d.resizeImage)},resizeImage:function(){var e,t=d.currItem;t&&t.img&&d.st.image.verticalFit&&(e=0,d.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",d.wH-e))},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,C&&clearInterval(C),e.isCheckingImgSize=!1,i("ImageHasSize",e),e.imgHidden)&&(d.content&&d.content.removeClass("mfp-loading"),e.imgHidden=!1)},findImageSize:function(e){var t=0,n=e.img[0];!function o(i){C&&clearInterval(C),C=setInterval((function(){0<n.naturalWidth?d._onImageHasSize(e):(200<t&&clearInterval(C),3==++t?o(10):40===t?o(50):100===t&&o(500))}),i)}(1)},getImage:function(t,n){function o(){t&&(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("error",s.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)}var r,a=0,s=d.st.image,l=n.find(".mfp-img");return l.length&&((r=document.createElement("img")).className="mfp-img",t.el&&t.el.find("img").length&&(r.alt=t.el.find("img").attr("alt")),t.img=e(r).on("load.mfploader",(function e(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,i("ImageLoadComplete")):++a<200?setTimeout(e,100):o())})).on("error.mfploader",o),r.src=t.src,l.is("img")&&(t.img=t.img.clone()),0<(r=t.img[0]).naturalWidth?t.hasSize=!0:r.width||(t.hasSize=!1)),d._parseMarkup(n,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=d.st.image.titleSrc;if(t){if("function"==typeof t)return t.call(d,e);if(e.el)return e.el.attr(t)||""}return""}(t),img_replaceWith:t.img},t),d.resizeImage(),t.hasSize?(C&&clearInterval(C),t.loadError?(n.addClass("mfp-loading"),d.updateStatus("error",s.tError.replace("%url%",t.src))):(n.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,n.addClass("mfp-loading"),d.findImageSize(t))),n}}}),e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,t,o,r,a,s,l=d.st.zoom,c=".zoom";l.enabled&&d.supportsTransition&&(t=l.duration,o=function(e){e=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image");var t="all "+l.duration/1e3+"s "+l.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return n["-webkit-"+o]=n["-moz-"+o]=n["-o-"+o]=n[o]=t,e.css(n),e},r=function(){d.content.css("visibility","visible")},n("BuildControls"+c,(function(){d._allowZoom()&&(clearTimeout(a),d.content.css("visibility","hidden"),(e=d._getItemToZoom())?((s=o(e)).css(d._getOffset()),d.wrap.append(s),a=setTimeout((function(){s.css(d._getOffset(!0)),a=setTimeout((function(){r(),setTimeout((function(){s.remove(),e=s=null,i("ZoomAnimationEnded")}),16)}),t)}),16)):r())})),n(x+c,(function(){if(d._allowZoom()){if(clearTimeout(a),d.st.removalDelay=t,!e){if(!(e=d._getItemToZoom()))return;s=o(e)}s.css(d._getOffset(!0)),d.wrap.append(s),d.content.css("visibility","hidden"),setTimeout((function(){s.css(d._getOffset())}),16)}})),n(b+c,(function(){d._allowZoom()&&(r(),s&&s.remove(),e=null)})))},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(t){var n=(t=t?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),o=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-bottom"),10);n.top-=e(window).scrollTop()-o,t={width:t.width(),height:(O?t.innerHeight():t[0].offsetHeight)-i-o};return(j=void 0===j?void 0!==document.createElement("p").style.MozTransform:j)?t["-moz-transform"]=t.transform="translate("+n.left+"px,"+n.top+"px)":(t.left=n.left,t.top=n.top),t}}});var j,N="iframe",D=(e.magnificPopup.registerModule(N,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(N),n("BeforeChange",(function(e,t,n){t!==n&&(t===N?H():n===N&&H(!0))})),n(b+"."+N,(function(){H()}))},getIframe:function(t,n){var o=t.src,i=d.st.iframe,r=(e.each(i.patterns,(function(){if(-1<o.indexOf(this.index))return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1})),{});return i.srcAction&&(r[i.srcAction]=o),d._parseMarkup(n,r,t),d.updateStatus("ready"),n}}}),e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%",langDir:null,loop:!0},proto:{initGallery:function(){var t=d.st.gallery,o=".mfp-gallery";if(d.direction=!0,!t||!t.enabled)return!1;t.langDir||(t.langDir=document.dir||"ltr"),m+=" mfp-gallery",n(T+o,(function(){t.navigateByImgClick&&d.wrap.on("click"+o,".mfp-img",(function(){if(1<d.items.length)return d.next(),!1})),u.on("keydown"+o,(function(e){37===e.keyCode?"rtl"===t.langDir?d.next():d.prev():39===e.keyCode&&("rtl"===t.langDir?d.prev():d.next())})),d.updateGalleryButtons()})),n("UpdateStatus"+o,(function(){d.updateGalleryButtons()})),n("UpdateStatus"+o,(function(e,t){t.text&&(t.text=F(t.text,d.currItem.index,d.items.length))})),n(I+o,(function(e,n,o,i){var r=d.items.length;o.counter=1<r?F(t.tCounter,i.index,r):""})),n("BuildControls"+o,(function(){var n,o,i,r,a;1<d.items.length&&t.arrows&&!d.arrowLeft&&(o="rtl"===t.langDir?(r=t.tNext,n=t.tPrev,a="next","prev"):(r=t.tPrev,n=t.tNext,a="prev","next"),i=t.arrowMarkup,r=d.arrowLeft=e(i.replace(/%title%/gi,r).replace(/%action%/gi,a).replace(/%dir%/gi,"left")).addClass(z),a=d.arrowRight=e(i.replace(/%title%/gi,n).replace(/%action%/gi,o).replace(/%dir%/gi,"right")).addClass(z),"rtl"===t.langDir?(d.arrowNext=r,d.arrowPrev=a):(d.arrowNext=a,d.arrowPrev=r),r.on("click",(function(){"rtl"===t.langDir?d.next():d.prev()})),a.on("click",(function(){"rtl"===t.langDir?d.prev():d.next()})),d.container.append(r.add(a)))})),n(k+o,(function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout((function(){d.preloadNearbyImages(),d._preloadTimeout=null}),16)})),n(b+o,(function(){u.off(o),d.wrap.off("click"+o),d.arrowRight=d.arrowLeft=null}))},next:function(){var e=A(d.index+1);if(!d.st.gallery.loop&&0===e)return!1;d.direction=!0,d.index=e,d.updateItemHTML()},prev:function(){var e=d.index-1;if(!d.st.gallery.loop&&e<0)return!1;d.direction=!1,d.index=A(e),d.updateItemHTML()},goTo:function(e){d.direction=e>=d.index,d.index=e,d.updateItemHTML()},preloadNearbyImages:function(){for(var e=d.st.gallery.preload,t=Math.min(e[0],d.items.length),n=Math.min(e[1],d.items.length),o=1;o<=(d.direction?n:t);o++)d._preloadItem(d.index+o);for(o=1;o<=(d.direction?t:n);o++)d._preloadItem(d.index-o)},_preloadItem:function(t){var n;t=A(t),d.items[t].preloaded||((n=d.items[t]).parsed||(n=d.parseEl(t)),i("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",(function(){n.hasSize=!0})).on("error.mfploader",(function(){n.hasSize=!0,n.loadError=!0,i("LazyLoadError",n)})).attr("src",n.src)),n.preloaded=!0)},updateGalleryButtons:function(){d.st.gallery.loop||"object"!=typeof d.arrowPrev||null===d.arrowPrev||(0===d.index?d.arrowPrev.hide():d.arrowPrev.show(),d.index===d.items.length-1?d.arrowNext.hide():d.arrowNext.show())}}}),"retina");e.magnificPopup.registerModule(D,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,(function(e){return"@2x"+e}))},ratio:1},proto:{initRetina:function(){var e,t;1<window.devicePixelRatio&&(e=d.st.retina,t=e.ratio,1<(t=isNaN(t)?t():t))&&(n("ImageHasSize."+D,(function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/t,width:"100%"})})),n("ElementParse."+D,(function(n,o){o.src=e.replaceSrc(o,t)})))}}}),a()}));